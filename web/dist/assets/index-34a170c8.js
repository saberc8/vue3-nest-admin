var g=(_,c,o)=>new Promise((l,r)=>{var p=t=>{try{d(o.next(t))}catch(u){r(u)}},f=t=>{try{d(o.throw(t))}catch(u){r(u)}},d=t=>t.done?l(t.value):Promise.resolve(t.value).then(p,f);d((o=o.apply(_,c)).next())});import{P as Y}from"./index-6033dac5.js";import{d as x,r as n,a as i,o as F,c as M,e as a,w as m,u as s,ai as z,l as S,G as T,b as P,at as A,ak as y,al as H,an as L}from"./index-7b1c4b91.js";import{_ as N}from"./userModal.vue_vue_type_script_setup_true_lang-c6b7c76c.js";const U=P("span",{style:{"font-weight":"bold","font-size":"20px",color:"#000"}},"用户表单",-1),E=x({__name:"index",setup(_){const c=n();c.value;const o=n({}),l=n(!1),r=n("新增用户"),p=A,f=[{type:"seq",width:60,treeNode:!0},{field:"id",title:"ID",width:80},{field:"username",title:"用户名",width:180},{field:"nickname",title:"用户昵称",width:180},{field:"isSuper",title:"是否超级管理员",width:120,align:"center",slots:{default:({row:e})=>a(i("a-tag"),{color:e.isSuper?"green":"red"},{default:()=>e.isSuper?"是":"否"})}},{field:"createdAt",title:"创建时间",formatter:e=>y(e.row.createdAt).format("YYYY-MM-DD HH:mm:ss")},{field:"updatedAt",title:"更新时间",formatter:e=>y(e.row.updatedAt).format("YYYY-MM-DD HH:mm:ss")},{title:"操作",width:220,align:"center",slots:{default:({row:e})=>a(i("a-space"),{size:"middle"},{default:()=>[a(i("a-button"),{type:"primary",size:"small",onClick:()=>{h(e)}},()=>"编辑"),a(i("a-button"),{type:"primary",size:"small",onClick:()=>{h(e)}},()=>"绑定角色"),a(i("a-button"),{type:"danger",size:"small",onClick:()=>{H.confirm({title:"提示",content:"确定删除该菜单吗？",onOk:()=>{w(e.id)}})}},()=>"删除")]})},fixed:"right"}],d=!0,t=[{label:"用户名",field:"username",type:"input",componentProps:{placeholder:"请输入用户名"}},{label:"用户昵称",field:"nickname",type:"input",componentProps:{placeholder:"请输入用户昵称"}}],u=n({page:1,size:10});let v=n([]);const k=()=>{r.value="新增用户",l.value=!0},b=()=>{l.value=!1},D=()=>{b(),c.value.reloadData()},h=e=>{r.value="编辑用户",o.value=e,l.value=!0},w=e=>g(this,null,function*(){L.success("删除成功")});return(e,B)=>{const C=i("a-button");return F(),M(T,null,[a(Y,{ref_key:"proTable",ref:c,dataSource:s(v),columns:f,params:s(u),searchForm:t,showForm:d,getListFunc:s(p)},{toolbar_title:m(()=>[U]),toolbar_buttons:m(()=>[a(C,{type:"primary",onClick:k},{icon:m(()=>[a(s(z))]),default:m(()=>[S(" 新增 ")]),_:1})]),_:1},8,["dataSource","params","getListFunc"]),a(N,{visible:s(l),title:s(r),formData:s(o),onCloseModal:b,onRefresh:D},null,8,["visible","title","formData"])],64)}}});export{E as default};
