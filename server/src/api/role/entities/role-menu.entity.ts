import { SharedEntity } from '@src/shared/entities/base.entity'
import { Entity, Column, Index, ManyToOne } from 'typeorm'
import { MenuEntity } from '@src/api/menu/entities/menu.entity'
import { RoleEntity } from '@src/api/role/entities/role.entity'

@Entity('role_menu')
export class RoleMenuEntity extends SharedEntity {
  constructor() {
    super()
  }

  @Index()
  @Column()
  roleId!: number

  @Column()
  menuId!: number

  @ManyToOne(() => RoleEntity, (roleEntity) => roleEntity.roleToMenu)
  public role!: RoleEntity

  @ManyToOne(() => MenuEntity, (menuEntity) => menuEntity.roleToMenu)
  public menu!: MenuEntity
}
